-- compare different database table and column data type 

select x.* from ( SELECT a.table_name, a.column_name,     max(IF(b.TS='S1',b.ordinal_position,null)) as S1_ordinal_position,     max(IF(b.TS='S2',b.ordinal_position,null)) as S2_ordinal_position,     max(IF(b.TS='S1',b.data_type       ,null)) as S1_data_type,     max(IF(b.TS='S2',b.data_type       ,null)) as S2_data_type,
 max(IF(b.TS='S1',b.column_type     ,null)) as S1_column_type,     max(IF(b.TS='S2',b.column_type     ,null)) as S2_column_type FROM (SELECT DISTINCT table_name, column_name  FROM information_schema.columns  WHERE table_schema IN ('banana','dev_banana') ) a INNER JOIN (SELECT IF(table_schema='banana','S1','S2') as TS,     table_schema,table_name,column_name,ordinal_position,data_type,column_type  FROM information_schema.columns  WHERE table_schema IN ('banana','dev_banana') ) b on (a.table_name = b.table_name and a.column_name = b.column_name) group by a.table_name, a.column_name ) x where x.S1_ordinal_position != x.S2_ordinal_position or x.S1_ordinal_position is null or x.S2_ordinal_position is null or    x.S1_data_type        != x.S2_data_type or    x.S1_column_type      != x.S2_column_type ORDER BY x.table_name;
